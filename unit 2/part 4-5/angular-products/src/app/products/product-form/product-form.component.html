<form class="form m-3" (ngSubmit)="addProduct()" #formProd="ngForm">
  <div class="form-row">
    <div class="form-group col">
      <label for="filterDesc">Description:</label>
      <input type="text"class="form-control" name="description"
         placeholder="Description" [(ngModel)]="newProduct.description" #descModel="ngModel"
         required minlength="5" maxlength="60">
    </div>
  </div>
  <div *ngIf="descModel.touched && descModel.invalid" class="alert alert-danger">
    Description is required and between 5 and 60 characters
  </div>


  <div class="form-row">
    <div class="form-group col">
      <label for="filterDesc">Price:</label>
      <input type="number" class="form-control" name="price" placeholder="Date"
        [(ngModel)]="newProduct.price" required min="0" step="0.01">
    </div>
    <div class="form-group col">
      <label for="filterDesc">Available:</label>
      <input type="date" class="form-control" name="available" placeholder="Available date"
        required="" [(ngModel)]="newProduct.available" minDate="2018-12-28" #availModel="ngModel">
    </div>
  </div>

  <div class="form-row">
    <div class="form-group col">
      <label for="filterDesc">Image:</label>
      <input type="file" #fileInput (change)="changeImage(fileInput)" class="form-control" name="image">
    </div>
    <div class="col prod-image">
      <img alt="" [src]="newProduct.imageUrl">
    </div>
  </div>

  <div>
    <button type="submit" class="btn btn-primary mr-3" [disabled]="formProd.invalid || !newProduct.imageUrl">{{edit?'Edit Product':'Add Product'}}</button>
    <button type="button" class="btn btn-danger" (click)="cancelForm()"> Cancel</button>
  </div>
  <p>{{newProduct | json}}</p>
  <p>Form valid: {{formProd.valid}}</p>
  <p>Form changed: {{formProd.dirty}}</p>
  <p>Form values: {{formProd.value | json}}</p>
</form>
